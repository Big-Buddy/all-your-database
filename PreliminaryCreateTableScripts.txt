CREATE TABLE Department(
  DepartmentID INT NOT NULL AUTO_INCREMENT,
  Name VARCHAR(255),
  AdministratorID INT NOT NULL,
  NumberOfBeds INT,
  PRIMARY KEY(DepartmentID)
);

CREATE TABLE Employee(
  EmployeeID INT NOT NULL AUTO_INCREMENT,
  FirstName VARCHAR(255),
  LastName VARCHAR(255),
  JobTitle VARCHAR(255),
  StartDate DATE,
  EndDate DATE,
  Gender ENUM('Male', 'Female'),
  DateOfBirth DATE,
  Phone VARCHAR(20),
  Email VARCHAR(127),
  PRIMARY KEY (EmployeeID)
);

ALTER TABLE Department
ADD FOREIGN KEY (AdministratorID)
REFERENCES Employee(EmployeeID);

CREATE TABLE Doctor(
  EmployeeID INT NOT NULL,
  DepartmentID INT NOT NULL,
  Specialty VARCHAR(255),
  VisitFee FLOAT NOT NULL,
  PRIMARY KEY (EmployeeID),
  FOREIGN KEY (EmployeeID) 
  REFERENCES Employee(EmployeeID),
  FOREIGN KEY (DepartmentID)
  REFERENCES Department(DepartmentID)
);

CREATE TABLE Nurse(
  EmployeeID INT NOT NULL,
  DepartmentID INT NOT NULL,
  Specialty VARCHAR(255),
  FOREIGN KEY (DepartmentID)
  REFERENCES Department(DepartmentID),
  FOREIGN KEY (EmployeeID) 
  REFERENCES Employee(EmployeeID),
  PRIMARY KEY (EmployeeID)
);

CREATE TABLE Patient(
  MedicareID INT NOT NULL AUTO_INCREMENT,
  FirstName VARCHAR(255),
  LastName VARCHAR(255),
  Gender ENUM('Male', 'Female'),
  DateOfBirth DATE,
  Phone VARCHAR(20),
  Address VARCHAR(255),
  PRIMARY KEY (MedicareID)
);

CREATE TABLE Admission(
  AdmissionID INT NOT NULL AUTO_INCREMENT,
  MedicareID INT NOT NULL,
  AssignedDoctorID INT NOT NULL,
  ReasonForAdmission VARCHAR(255),
  DateAdmitted DATE,
  DateDischarged DATE,
  FOREIGN KEY (MedicareID) 
  REFERENCES Patient(MedicareID),
  FOREIGN KEY (AssignedDoctorID) 
  REFERENCES Doctor(EmployeeID),
  PRIMARY KEY (AdmissionID)
);

CREATE TABLE Visit(
  VisitID INT NOT NULL AUTO_INCREMENT,
  MedicareID INT NOT NULL,
  DoctorID INT NOT NULL,
  DateTimeVisited DATETIME,
  MedicalReport VARCHAR(255),
  FOREIGN KEY (MedicareID) 
  REFERENCES Patient(MedicareID),
  FOREIGN KEY (DoctorID) 
  REFERENCES Doctor(EmployeeID),
  PRIMARY KEY (VisitID)
);

CREATE TABLE Test(
  TestID INT NOT NULL AUTO_INCREMENT,
  MedicareID INT NOT NULL,
  TestType VARCHAR(127),
  DateTimeTested DATETIME,
  FOREIGN KEY (MedicareID) 
  REFERENCES Patient(MedicareID),
  PRIMARY KEY (TestID)
);